var oe=Object.defineProperty;var p=(s,e)=>oe(s,"name",{value:e,configurable:!0});import{S as V,i as j,s as T,e as k,v as M,p as G,a as _,b as h,w as P,q as H,d as b,f as d,H as $,g as I,x as g,I as U,r as ue,G as E,J as D,K as A,L as F,M as de,E as J,k as x,z as K,t as v,N as ne,y as ce,F as fe,l as L,m as O,n as C,o as N,B,O as ee,P as pe,Q,R as me,T as ye}from"./index-903bf68d.js";import{S as be}from"./Search-61b7a5a6.js";function ge(s){let e,t,i,u,a,c,o,l,n;return{c(){e=k("li"),t=k("img"),u=M(),a=k("p"),c=G(s[1]),this.h()},l(r){e=_(r,"LI",{role:!0,"aria-selected":!0,id:!0,class:!0});var f=h(e);t=_(f,"IMG",{class:!0,src:!0,alt:!0}),u=P(f),a=_(f,"P",{class:!0});var w=h(a);c=H(w,s[1]),w.forEach(b),f.forEach(b),this.h()},h(){d(t,"class","object-cover w-8 h-8 mx-1 rounded-full"),$(t.src,i=s[0])||d(t,"src",i),d(t,"alt",""),d(a,"class","mx-2 text-sm text-gray-600 dark:text-gray-50"),d(e,"role","option"),d(e,"aria-selected",s[2]),d(e,"id",s[3]),d(e,"class",o=`cursor-pointer flex items-center px-4 py-3 -mx-2 transition-colors duration-200 transform border-b last:border-0 hover:bg-gray-100 dark:hover:bg-gray-500 dark:border-gray-600 ${s[2]?"bg-gray-100 dark:bg-gray-500":""}`)},m(r,f){I(r,e,f),g(e,t),g(e,u),g(e,a),g(a,c),l||(n=U(e,"mousedown",s[4]),l=!0)},p(r,[f]){f&1&&!$(t.src,i=r[0])&&d(t,"src",i),f&2&&ue(c,r[1]),f&4&&d(e,"aria-selected",r[2]),f&8&&d(e,"id",r[3]),f&4&&o!==(o=`cursor-pointer flex items-center px-4 py-3 -mx-2 transition-colors duration-200 transform border-b last:border-0 hover:bg-gray-100 dark:hover:bg-gray-500 dark:border-gray-600 ${r[2]?"bg-gray-100 dark:bg-gray-500":""}`)&&d(e,"class",o)},i:E,o:E,d(r){r&&b(e),l=!1,n()}}}p(ge,"create_fragment$4");function he(s,e,t){let{imageUrl:i}=e,{text:u}=e,{selected:a}=e,{id:c}=e;function o(l){D.call(this,s,l)}return p(o,"mousedown_handler"),s.$$set=l=>{"imageUrl"in l&&t(0,i=l.imageUrl),"text"in l&&t(1,u=l.text),"selected"in l&&t(2,a=l.selected),"id"in l&&t(3,c=l.id)},[i,u,a,c,o]}p(he,"instance$3");class W extends V{constructor(e){super(),j(this,e,he,ge,T,{imageUrl:0,text:1,selected:2,id:3})}}p(W,"DropDownItem");W.__docgen={version:3,name:"DropDownItem.svelte",data:[{visibility:"public",description:null,keywords:[],name:"imageUrl",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"text",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"selected",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"mousedown",parent:"li",modificators:[],locations:null}],slots:[],refs:[]};function ke(s){let e,t,i;return{c(){e=A("svg"),t=A("path"),i=A("animateTransform"),this.h()},l(u){e=F(u,"svg",{class:!0,version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,style:!0,"xml:space":!0});var a=h(e);t=F(a,"path",{fill:!0,d:!0});var c=h(t);i=F(c,"animateTransform",{attributeType:!0,attributeName:!0,type:!0,from:!0,to:!0,dur:!0,repeatCount:!0}),h(i).forEach(b),c.forEach(b),a.forEach(b),this.h()},h(){d(i,"attributeType","xml"),d(i,"attributeName","transform"),d(i,"type","rotate"),d(i,"from","0 25 25"),d(i,"to","360 25 25"),d(i,"dur","0.6s"),d(i,"repeatCount","indefinite"),d(t,"fill","currentColor"),d(t,"d","M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"),d(e,"class","inline"),d(e,"version","1.1"),d(e,"id","loader-1"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),d(e,"x","0px"),d(e,"y","0px"),d(e,"width","40px"),d(e,"height","40px"),d(e,"viewBox","0 0 50 50"),de(e,"enable-background","new 0 0 50 50"),d(e,"xml:space","preserve")},m(u,a){I(u,e,a),g(e,t),g(t,i)},p:E,i:E,o:E,d(u){u&&b(e)}}}p(ke,"create_fragment$3");let se=p(class extends V{constructor(e){super(),j(this,e,null,ke,T,{})}},"Loading");se.__docgen={version:3,name:"Loading.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function te(s,e,t){const i=s.slice();return i[8]=e[t],i[10]=t,i}p(te,"get_each_context");function _e(s){let e,t=[],i=new Map,u,a=s[0];const c=p(o=>o[8].key,"get_key");for(let o=0;o<a.length;o+=1){let l=te(s,a,o),n=c(l);i.set(n,t[o]=le(n,l))}return{c(){e=k("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=_(o,"UL",{class:!0,role:!0,"aria-label":!0,id:!0});var l=h(e);for(let n=0;n<t.length;n+=1)t[n].l(l);l.forEach(b),this.h()},h(){d(e,"class","py-2"),d(e,"role","listbox"),d(e,"aria-label","検索結果"),d(e,"id",s[2])},m(o,l){I(o,e,l);for(let n=0;n<t.length;n+=1)t[n].m(e,null);u=!0},p(o,l){l&57&&(a=o[0],J(),t=ce(t,l,c,1,o,a,i,e,fe,le,null,te),K()),(!u||l&4)&&d(e,"id",o[2])},i(o){if(!u){for(let l=0;l<a.length;l+=1)v(t[l]);u=!0}},o(o){for(let l=0;l<t.length;l+=1)x(t[l]);u=!1},d(o){o&&b(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}p(_e,"create_else_block");function ve(s){let e,t,i;return{c(){e=k("div"),t=k("p"),i=G("検索結果がありません"),this.h()},l(u){e=_(u,"DIV",{class:!0,"aria-live":!0,"aria-atomic":!0});var a=h(e);t=_(a,"P",{class:!0});var c=h(t);i=H(c,"検索結果がありません"),c.forEach(b),a.forEach(b),this.h()},h(){d(t,"class","text-gray-500 dark:text-gray-300"),d(e,"class","py-2 text-center"),d(e,"aria-live","polite"),d(e,"aria-atomic","true")},m(u,a){I(u,e,a),g(e,t),g(t,i)},p:E,i:E,o:E,d(u){u&&b(e)}}}p(ve,"create_if_block_1");function we(s){let e,t,i,u,a,c;return a=new se({}),{c(){e=k("div"),t=k("div"),i=G("検索中"),u=M(),L(a.$$.fragment),this.h()},l(o){e=_(o,"DIV",{class:!0,"aria-live":!0,"aria-atomic":!0});var l=h(e);t=_(l,"DIV",{class:!0});var n=h(t);i=H(n,"検索中"),n.forEach(b),u=P(l),O(a.$$.fragment,l),l.forEach(b),this.h()},h(){d(t,"class","sr-only"),d(e,"class","py-2 text-center"),d(e,"aria-live","polite"),d(e,"aria-atomic","true")},m(o,l){I(o,e,l),g(e,t),g(t,i),g(e,u),C(a,e,null),c=!0},p:E,i(o){c||(v(a.$$.fragment,o),c=!0)},o(o){x(a.$$.fragment,o),c=!1},d(o){o&&b(e),N(a)}}}p(we,"create_if_block$1");function le(s,e){let t,i,u;function a(){return e[7](e[8])}return p(a,"mousedown_handler"),i=new W({props:{imageUrl:e[8].imageUrl,text:e[8].text,selected:e[10]===e[4],id:`${e[3]}-${e[10]}`}}),i.$on("mousedown",a),{key:s,first:null,c(){t=B(),L(i.$$.fragment),this.h()},l(c){t=B(),O(i.$$.fragment,c),this.h()},h(){this.first=t},m(c,o){I(c,t,o),C(i,c,o),u=!0},p(c,o){e=c;const l={};o&1&&(l.imageUrl=e[8].imageUrl),o&1&&(l.text=e[8].text),o&17&&(l.selected=e[10]===e[4]),o&9&&(l.id=`${e[3]}-${e[10]}`),i.$set(l)},i(c){u||(v(i.$$.fragment,c),u=!0)},o(c){x(i.$$.fragment,c),u=!1},d(c){c&&b(t),N(i,c)}}}p(le,"create_each_block");function xe(s){let e,t,i,u,a,c;const o=[we,ve,_e],l=[];function n(r,f){return r[1]?0:r[0].length===0?1:2}return p(n,"select_block_type"),t=n(s),i=l[t]=o[t](s),{c(){e=k("div"),i.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var f=h(e);i.l(f),f.forEach(b),this.h()},h(){d(e,"class","absolute z-20 overflow-hidden bg-white rounded-br-md rounded-bl-md shadow-lg w-72 max-h-60 overflow-y-scroll dark:bg-gray-700 border-2 border-t-0 border-gray-300 dark:border-gray-600")},m(r,f){I(r,e,f),l[t].m(e,null),u=!0,a||(c=U(e,"keydown",s[6]),a=!0)},p(r,[f]){let w=t;t=n(r),t===w?l[t].p(r,f):(J(),x(l[w],1,1,()=>{l[w]=null}),K(),i=l[t],i?i.p(r,f):(i=l[t]=o[t](r),i.c()),v(i,1),i.m(e,null))},i(r){u||(v(i),u=!0)},o(r){x(i),u=!1},d(r){r&&b(e),l[t].d(),a=!1,c()}}}p(xe,"create_fragment$2");function Ie(s,e,t){const i=ne();let{items:u}=e,{loading:a=!1}=e,{listboxId:c}=e,{optionId:o}=e,{activeIndex:l=null}=e;function n(f){D.call(this,s,f)}p(n,"keydown_handler");const r=p(f=>{i("select",f)},"mousedown_handler");return s.$$set=f=>{"items"in f&&t(0,u=f.items),"loading"in f&&t(1,a=f.loading),"listboxId"in f&&t(2,c=f.listboxId),"optionId"in f&&t(3,o=f.optionId),"activeIndex"in f&&t(4,l=f.activeIndex)},[u,a,c,o,l,i,n,r]}p(Ie,"instance$2");class X extends V{constructor(e){super(),j(this,e,Ie,xe,T,{items:0,loading:1,listboxId:2,optionId:3,activeIndex:4})}}p(X,"DropDownMenu");X.__docgen={version:3,name:"DropDownMenu.svelte",data:[{visibility:"public",description:null,keywords:[],name:"items",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"loading",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"listboxId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"optionId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"activeIndex",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"object",type:"object"},defaultValue:null}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"keydown",parent:"div",modificators:[],locations:null},{visibility:"public",description:null,keywords:[],name:"select"}],slots:[],refs:[]};function Ee(s){let e,t,i,u,a,c,o,l;return a=new be({props:{className:"text-gray-600 dark:text-gray-50 h-6 w-6"}}),{c(){e=k("div"),t=k("input"),i=M(),u=k("button"),L(a.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var r=h(e);t=_(r,"INPUT",{class:!0,type:!0,id:!0,name:!0,placeholder:!0,role:!0,"aria-autocomplete":!0,"aria-expanded":!0,"aria-controls":!0}),i=P(r),u=_(r,"BUTTON",{class:!0,"aria-label":!0});var f=h(u);O(a.$$.fragment,f),f.forEach(b),r.forEach(b),this.h()},h(){d(t,"class","bg-white h-10 px-5 rounded-l-lg focus:outline-none dark:bg-gray-800 w-60"),d(t,"type","text"),d(t,"id",s[4]),d(t,"name",s[2]),d(t,"placeholder",s[1]),d(t,"role","combobox"),d(t,"aria-autocomplete","both"),d(t,"aria-expanded",s[3]),d(t,"aria-controls",s[5]),d(u,"class","flex justify-end p-2 rounded-r-lg dark:bg-gray-700"),d(u,"aria-label","検索"),d(e,"class","flex border-2 border-gray-300 dark:border-gray-600 rounded-lg w-full")},m(n,r){I(n,e,r),g(e,t),ee(t,s[0]),s[13](t),g(e,i),g(e,u),C(a,u,null),c=!0,o||(l=[U(t,"input",s[12]),U(t,"focus",s[8]),U(t,"blur",s[9]),U(t,"keydown",s[10]),U(t,"input",s[11])],o=!0)},p(n,[r]){(!c||r&16)&&d(t,"id",n[4]),(!c||r&4)&&d(t,"name",n[2]),(!c||r&2)&&d(t,"placeholder",n[1]),(!c||r&8)&&d(t,"aria-expanded",n[3]),(!c||r&32)&&d(t,"aria-controls",n[5]),r&1&&t.value!==n[0]&&ee(t,n[0])},i(n){c||(v(a.$$.fragment,n),c=!0)},o(n){x(a.$$.fragment,n),c=!1},d(n){n&&b(e),s[13](null),N(a),o=!1,pe(l)}}}p(Ee,"create_fragment$1");function Ue(s,e,t){let{value:i=""}=e,{placeholder:u=""}=e,{name:a=""}=e,{isOpen:c=!1}=e,{inputId:o=""}=e,{listboxId:l=""}=e;const n=p(()=>{r.focus()},"focus");let r;function f(m){D.call(this,s,m)}p(f,"focus_handler");function w(m){D.call(this,s,m)}p(w,"blur_handler");function q(m){D.call(this,s,m)}p(q,"keydown_handler");function S(m){D.call(this,s,m)}p(S,"input_handler");function z(){i=this.value,t(0,i)}p(z,"input_1_input_handler");function R(m){Q[m?"unshift":"push"](()=>{r=m,t(6,r)})}return p(R,"input_1_binding"),s.$$set=m=>{"value"in m&&t(0,i=m.value),"placeholder"in m&&t(1,u=m.placeholder),"name"in m&&t(2,a=m.name),"isOpen"in m&&t(3,c=m.isOpen),"inputId"in m&&t(4,o=m.inputId),"listboxId"in m&&t(5,l=m.listboxId)},[i,u,a,c,o,l,r,n,f,w,q,S,z,R]}p(Ue,"instance$1");class Y extends V{constructor(e){super(),j(this,e,Ue,Ee,T,{value:0,placeholder:1,name:2,isOpen:3,inputId:4,listboxId:5,focus:7})}get focus(){return this.$$.ctx[7]}}p(Y,"Input");Y.__docgen={version:3,name:"Input.svelte",data:[{visibility:"public",description:null,keywords:[],name:"value",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"",bind:[{source:"input",property:"value"}]},{visibility:"public",description:null,keywords:[],name:"placeholder",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{visibility:"public",description:null,keywords:[],name:"name",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{visibility:"public",description:null,keywords:[],name:"isOpen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"inputId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{visibility:"public",description:null,keywords:[],name:"listboxId",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:""},{visibility:"public",description:null,keywords:[],name:"focus",kind:"const",static:!1,readonly:!0,type:{kind:"function",text:"function",type:"function"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{keywords:[],visibility:"public",description:"",name:"focus",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"blur",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"keydown",parent:"input",modificators:[],locations:null},{keywords:[],visibility:"public",description:"",name:"input",parent:"input",modificators:[],locations:null}],slots:[],refs:[]};function ie(s){let e,t;return e=new X({props:{items:s[2],loading:s[1],listboxId:ae,optionId:je,activeIndex:s[5]}}),e.$on("select",s[9]),{c(){L(e.$$.fragment)},l(i){O(e.$$.fragment,i)},m(i,u){C(e,i,u),t=!0},p(i,u){const a={};u&4&&(a.items=i[2]),u&2&&(a.loading=i[1]),u&32&&(a.activeIndex=i[5]),e.$set(a)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){x(e.$$.fragment,i),t=!1},d(i){N(e,i)}}}p(ie,"create_if_block");function De(s){let e,t,i,u,a;function c(n){s[12](n)}p(c,"input_value_binding");let o={inputId:Ve,listboxId:ae,placeholder:"Search"};s[0]!==void 0&&(o.value=s[0]),e=new Y({props:o}),s[11](e),Q.push(()=>me(e,"value",c,s[0])),e.$on("focus",s[7]),e.$on("blur",s[8]),e.$on("keydown",s[10]),e.$on("input",s[6]);let l=s[3]&&ie(s);return{c(){L(e.$$.fragment),i=M(),l&&l.c(),u=B()},l(n){O(e.$$.fragment,n),i=P(n),l&&l.l(n),u=B()},m(n,r){C(e,n,r),I(n,i,r),l&&l.m(n,r),I(n,u,r),a=!0},p(n,[r]){const f={};!t&&r&1&&(t=!0,f.value=n[0],ye(()=>t=!1)),e.$set(f),n[3]?l?(l.p(n,r),r&8&&v(l,1)):(l=ie(n),l.c(),v(l,1),l.m(u.parentNode,u)):l&&(J(),x(l,1,1,()=>{l=null}),K())},i(n){a||(v(e.$$.fragment,n),v(l),a=!0)},o(n){x(e.$$.fragment,n),x(l),a=!1},d(n){s[11](null),N(e,n),n&&b(i),l&&l.d(n),n&&b(u)}}}p(De,"create_fragment");const Ve="combobox",ae="listbox",je="option";function Te(s,e,t){let i;const u=ne();let{value:a=""}=e,{loading:c=!1}=e,{items:o=[]}=e,l,n=null,r=!1;const f=p(()=>{a.trim()?t(3,r=!0):t(3,r=!1)},"handleInput"),w=p(()=>{a.trim()&&t(3,r=!0)},"handleFocus"),q=p(()=>{t(3,r=!1)},"handleBlur"),S=p(y=>{t(0,a=y.detail.text),u("select",y.detail)},"handleSelect"),z=p(y=>{y.key==="ArrowDown"?(y.preventDefault(),n===null?(t(3,r=!0),t(5,n=0)):n<i-1?t(5,n++,n):t(5,n=0)):y.key==="ArrowUp"?(y.preventDefault(),n===null?(t(3,r=!0),t(5,n=0)):n>0?t(5,n--,n):t(5,n=i-1)):y.key==="Enter"?(t(3,r=!1),n!==null&&(y.preventDefault(),S({detail:o[n]}),t(5,n=null))):y.key==="Escape"&&(y.preventDefault(),l.focus(),r?(t(3,r=!1),t(5,n=null)):t(0,a=""))},"navigateList");function R(y){Q[y?"unshift":"push"](()=>{l=y,t(4,l)})}p(R,"input_binding");function m(y){a=y,t(0,a)}return p(m,"input_value_binding"),s.$$set=y=>{"value"in y&&t(0,a=y.value),"loading"in y&&t(1,c=y.loading),"items"in y&&t(2,o=y.items)},s.$$.update=()=>{s.$$.dirty&4&&(i=o.length),s.$$.dirty&8&&(r||t(5,n=null))},[a,c,o,r,l,n,f,w,q,S,z,R,m]}p(Te,"instance");class Z extends V{constructor(e){super(),j(this,e,Te,De,T,{value:0,loading:1,items:2})}}p(Z,"Combobox");Z.__docgen={version:3,name:"Combobox.svelte",data:[{visibility:"public",description:null,keywords:[],name:"value",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"string",type:"string"},defaultValue:"",bind:[{source:"Input",property:"value"}]},{visibility:"public",description:null,keywords:[],name:"loading",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"items",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"array",type:"array"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"select"}],slots:[],refs:[]};const Se={title:"Combobox",component:Z,tags:["autodocs"],argTypes:{items:{control:{type:"object"},describe:"選択肢の配列。各要素は { imageUrl: string, text: string, key: string } の形式である必要がある。"},loading:{control:{type:"boolean"},describe:"ローディング中かどうか"},value:{control:{type:"text"},describe:"入力されている値"}}},re=[{imageUrl:"https://placehold.jp/24/cccccc/ffffff/150x150.png?text=1",text:"Item 1",key:"1"},{imageUrl:"https://placehold.jp/24/cccccc/ffffff/150x150.png?text=2",text:"Item 2",key:"2"},{imageUrl:"https://placehold.jp/24/cccccc/ffffff/150x150.png?text=3",text:"Item 3",key:"3"},{imageUrl:"https://placehold.jp/24/cccccc/ffffff/150x150.png?text=4",text:"Item 4",key:"4"},{imageUrl:"https://placehold.jp/24/cccccc/ffffff/150x150.png?text=5",text:"Item 5",key:"5"}],Be={args:{items:re,loading:!1,value:""}},Me={args:{items:re,value:""}},Pe={args:{items:[],loading:!1,value:""}},qe=["Default","Loading","noResults"];export{Be as Default,Me as Loading,qe as __namedExportsOrder,Se as default,Pe as noResults};
//# sourceMappingURL=Combobox.stories-0ab1e491.js.map
